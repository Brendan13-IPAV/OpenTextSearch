<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Enforcement Options</title>
    <style>
        /* Base styles */
        :root {
            --dark-blue: #1D2939;
            --teal: #55ABC9;
            --light-mint: #F6FAFC;
            --border-color: #E4E7EC;
            --text-primary: #1D2939;
            --text-secondary: #667085;
            --highlight: #787ABB;
            
            /* IP-specific colours */
            --patent-color: #1DA7AF;
            --trademark-color: #DE4326;
            --design-color: #84C98F;
            --pbr-color: #F1AC1E;
            --copyright-color: #787ABB;
            --all-rights-color: #667085;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: var(--text-primary);
            background-color: var(--light-mint);
            line-height: 1.5;
            margin: 0;
            padding: 0;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            color: var(--teal);
            margin-top: 0;
        }

        h2 {
            font-size: 22px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 20px;
            margin-top: 0;
        }

        h3 {
            font-size: 18px;
            font-weight: 600;
            margin-top: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header styling */
        .header {
            background-color: var(--dark-blue);
            color: white;
            padding: 15px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 22px;
            font-weight: 600;
        }

        .nav a {
            color: white;
            text-decoration: none;
            margin-left: 30px;
        }

        .main-content {
            padding: 40px 0;
        }

        .title-section {
            margin-bottom: 40px;
            padding: 0 20px;
        }

        /* Two-column form layout */
        .form-layout {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
        }
        
        .form-left, .form-right {
            flex: 1;
        }
        
        .description-textarea {
            height: 100%;
            min-height: 300px;
        }

        /* Card styling */
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(16, 24, 40, 0.1);
            padding: 24px;
            margin-bottom: 20px;
            border-left: 3px solid var(--teal);
            transition: transform 0.2s ease, opacity 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px rgba(16, 24, 40, 0.1);
        }

        .card-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 10px;
        }

        /* Form elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--teal);
            box-shadow: 0 0 0 3px rgba(85, 171, 201, 0.15);
        }

        /* Buttons */
        .btn {
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background-color: var(--teal);
            color: white;
        }

        .btn-primary:hover {
            background-color: #4799B5;
        }

        .btn-secondary {
            background-color: white;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }
        
        .btn-edit {
            background-color: var(--teal);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            display: inline-block;
        }

        /* Layout classes */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }
        
        .results-container {
            display: none;
        }
        
        .prompt-container {
            display: block;
        }

        /* Guide text styling */
        .guide-text-container {
            background-color: #F8F9FB;
            border-radius: 6px;
            padding: 16px;
            margin: 20px 0;
            border-left: 3px solid var(--text-secondary);
            transition: all 0.3s ease;
        }
        
        .guide-text-container.active {
            background-color: #EBF5FF;
            border-left-color: var(--teal);
        }
        
        .guide-text {
            color: var(--text-secondary);
            font-style: italic;
            margin: 0;
            transition: color 0.3s ease;
        }
        
        .guide-text-container.active .guide-text {
            color: var(--text-primary);
        }
        
        /* Results page styling */
        .filters-panel {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 1px 3px rgba(16, 24, 40, 0.1);
        }
        
        .sidebar {
            background-color: #F9FAFB;
            border-radius: 8px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 1px 3px rgba(16, 24, 40, 0.1);
            border-left: 3px solid var(--teal);
        }
        
        .card-overtitle {
            text-transform: uppercase;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .feature-tag {
            display: inline-block;
            background-color: #EBF5FF;
            color: var(--teal);
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-right: 8px;
            margin-bottom: 5px;
        }
        
        /* IP-specific styling */
        .tag-Patent {
            background-color: rgba(29, 167, 175, 0.15);
            color: var(--patent-color);
        }
        
        .tag-Trade-mark,
        .tag-Unregistered-trade-mark {
            background-color: rgba(222, 67, 38, 0.15);
            color: var(--trademark-color);
        }
        
        .tag-Design {
            background-color: rgba(132, 201, 143, 0.15);
            color: var(--design-color);
        }
        
        .tag-Plant-breeder {
            background-color: rgba(241, 172, 30, 0.15);
            color: var(--pbr-color);
        }
        
        .tag-Copyright {
            background-color: rgba(120, 122, 187, 0.15);
            color: var(--copyright-color);
        }
        
        .tag-All,
        .tag-Other {
            background-color: rgba(102, 112, 133, 0.15);
            color: var(--all-rights-color);
        }
        
        /* Card border colors by IP type */
        .card-Patent {
            border-left-color: var(--patent-color);
        }
        
        .card-Trade-mark,
        .card-Unregistered-trade-mark {
            border-left-color: var(--trademark-color);
        }
        
        .card-Design {
            border-left-color: var(--design-color);
        }
        
        .card-Plant-breeder {
            border-left-color: var(--pbr-color);
        }
        
        .card-Copyright {
            border-left-color: var(--copyright-color);
        }
        
        .card-All,
        .card-Other {
            border-left-color: var(--all-rights-color);
        }
        
        /* Card animation */
        @keyframes cardAppear {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card-animated {
            animation: cardAppear 0.4s ease forwards;
            opacity: 0;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            .two-column {
                grid-template-columns: 1fr;
            }
            .form-layout {
                flex-direction: column;
            }
            .header-content {
                flex-direction: column;
                gap: 10px;
            }
            .nav a {
                margin-left: 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">IP Enforcement Options</div>
                <nav class="nav">
                    <a href="#">Home</a>
                    <a href="#">About</a>
                    <a href="#">Resources</a>
                </nav>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <!-- Initial Prompt Form -->
        <div class="prompt-container" id="promptContainer">
            <div class="title-section">
                <h1>IP Enforcement Options</h1>
                <h2>Help us understand your situation</h2>
                <p>This tool is designed to support people exploring enforcement options for intellectual property (IP). To begin, select the statements that best describe your current situation and what you're hoping to achieve.</p>
            </div>
            
            <div class="card">
                <form id="situationForm">
                    <div class="form-layout">
                        <div class="form-left">
                            <div class="form-group">
                                <label class="form-label" for="situation">Step 1: What brings you here today?</label>
                                <select class="form-control" id="situation" required>
                                    <option value="" selected disabled>Select the option that best describes your current situation</option>
                                    <option value="accused">I've been accused of infringing someone else's IP</option>
                                    <option value="infringement">I believe someone is using my IP without permission</option>
                                    <option value="protection">I want to proactively protect my IP</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="focus">Step 2: What would you like to focus on today?</label>
                                <select class="form-control" id="focus" required>
                                    <option value="" selected disabled>Select the outcome that most closely matches what you're looking to do</option>
                                    <option value="understand">Understand if there's an issue to deal with</option>
                                    <option value="strengthen">Strengthen my position</option>
                                    <option value="support">Get support from a professional</option>
                                    <option value="agreement">Explore ways to reach agreement with someone</option>
                                    <option value="prevent_harm">Prevent harm to the public</option>
                                    <option value="prevent_infringement">Prevent a potential infringement</option>
                                    <option value="recoup">Recoup financial losses from another party</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="ipType">Step 3: What type of IP is involved?</label>
                                <select class="form-control" id="ipType" required>
                                    <option value="" selected disabled>Select the IP type that best fits your situation</option>
                                    <option value="Trade mark (registered)">Registered trade mark</option>
                                    <option value="Patent">Patent</option>
                                    <option value="Design">Registered design</option>
                                    <option value="Plant breeder">Plant breeder's right</option>
                                    <option value="Unregistered trade mark">Unregistered trade mark or brand</option>
                                    <option value="Copyright">Copyright</option>
                                    <option value="Other">Other rights</option>
                                    <option value="Unsure">I'm not sure</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-right">
                            <div class="form-group">
                                <label class="form-label" for="description">Step 4: Describe your situation</label>
                                <textarea class="form-control description-textarea" id="description" rows="11" placeholder="This helps us show you content that may be more relevant."></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dynamic guide text that updates based on selections -->
                    <div class="guide-text-container" id="guideTextContainer">
                        <p class="guide-text" id="guideText">Select options above to see relevant examples...</p>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="exploreBtn">Explore options</button>
                </form>
            </div>
        </div>
        
        <!-- Results Page (initially hidden) -->
        <div class="results-container" id="resultsContainer">
            <div class="title-section">
                <h1>IP Enforcement Options</h1>
                <h2>Options that might be worth considering</h2>
            </div>
            
            <!-- Filters panel at the top -->
            <div class="filters-panel">
                <div class="form-group">
                    <label class="form-label" for="situationFilter">What brings you here today?</label>
                    <select class="form-control" id="situationFilter">
                        <option value="accused">I've been accused of infringing someone else's IP</option>
                        <option value="infringement">I believe someone is using my IP without permission</option>
                        <option value="protection">I want to proactively protect my IP</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="focusFilter">What would you like to focus on today?</label>
                    <select class="form-control" id="focusFilter">
                        <option value="understand">Understand if there's an issue to deal with</option>
                        <option value="strengthen">Strengthen my position</option>
                        <option value="support">Get support from a professional</option>
                        <option value="agreement">Explore ways to reach agreement with someone</option>
                        <option value="prevent_harm">Prevent harm to the public</option>
                        <option value="prevent_infringement">Prevent a potential infringement</option>
                        <option value="recoup">Recoup financial losses from another party</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="ipTypeFilter">What type of IP is involved?</label>
                    <select class="form-control" id="ipTypeFilter">
                        <option value="Trade mark (registered)">Registered trade mark</option>
                        <option value="Patent">Patent</option>
                        <option value="Design">Registered design</option>
                        <option value="Plant breeder">Plant breeder's right</option>
                        <option value="Unregistered trade mark">Unregistered trade mark or brand</option>
                        <option value="Copyright">Copyright</option>
                        <option value="Other">Other rights</option>
                        <option value="Unsure">I'm not sure</option>
                    </select>
                </div>
            </div>
            
            <!-- Two-column layout for results -->
            <div class="two-column">
                <!-- Left sidebar with description -->
                <div class="sidebar">
                    <h3>Your description</h3>
                    <p id="userDescription"></p>
                    <button class="btn-edit" id="editDescription">Edit</button>
                </div>
                
                <!-- Main results grid -->
                <div class="grid" id="resultsGrid">
                    <!-- Cards will be dynamically inserted here -->
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <button class="btn btn-secondary" id="backButton">Back to form</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const situationForm = document.getElementById('situationForm');
        const promptContainer = document.getElementById('promptContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const resultsGrid = document.getElementById('resultsGrid');
        const userDescription = document.getElementById('userDescription');
        const editDescriptionBtn = document.getElementById('editDescription');
        const backButton = document.getElementById('backButton');
        const descriptionField = document.getElementById('description');
        const situationFilter = document.getElementById('situationFilter');
        const focusFilter = document.getElementById('focusFilter');
        const ipTypeFilter = document.getElementById('ipTypeFilter');
        const guideTextContainer = document.getElementById('guideTextContainer');
        const guideText = document.getElementById('guideText');

        // Guide Text Data (expanded)
        const guideTextData = [
            {
                "User Goal": "Strengthen my position",
                "IP Type": "Trade mark (registered)",
                "Guide Text": "Someone else is using a name very similar to my registered trade mark. I want to understand what steps I can take to protect it going forward."
            },
            {
                "User Goal": "Strengthen my position",
                "IP Type": "Patent",
                "Guide Text": "I think a competitor's product is similar to my patent, and I want to make sure I'm prepared if they try to copy it more directly."
            },
            {
                "User Goal": "Strengthen my position",
                "IP Type": "Design",
                "Guide Text": "A new product has a similar look to my registered design. I'm not sure if it's an issue, but I want to understand what I can do to protect my design."
            },
            {
                "User Goal": "Get support from a professional",
                "IP Type": "Trade mark (registered)",
                "Guide Text": "I need to speak with an expert about how to enforce my registered trade mark against potential infringers."
            },
            {
                "User Goal": "Explore ways to reach agreement with someone",
                "IP Type": "Patent",
                "Guide Text": "A competitor may be using technology similar to my patented invention. I'd like to find a way to resolve this without going to court."
            },
            {
                "User Goal": "Prevent a potential infringement",
                "IP Type": "Copyright",
                "Guide Text": "I've created original creative content and I'm concerned others might copy it without permission. I want to know what preventative steps I can take."
            },
            {
                "User Goal": "Understand if there's an issue to deal with",
                "IP Type": "Unregistered trade mark",
                "Guide Text": "Someone is using a similar business name to mine, but I don't have it registered as a trade mark. I'm trying to determine if I have any rights I can enforce."
            }
        ];
        
        // IP Enforcement Options Data (expanded with all CSV data) 
        const ipOptionsData = [
            {
                "Overtitle": "Patent opposition",
                "Main Title": "Challenge a new or amended patent",
                "Description": "Initiate a challenge to the validity of a new patent with IP Australia",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Patent"
            },
            {
                "Overtitle": "Court - Patent",
                "Main Title": "Seek binding, authoritative decisions",
                "Description": "Escalate a wide range of patent matters to court",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Patent"
            },
            {
                "Overtitle": "Trade mark opposition",
                "Main Title": "Challenge a new or amended trade mark",
                "Description": "Initiate a challenge to a trade mark application with IP Australia",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Trade mark"
            },
            {
                "Overtitle": "Warning letter",
                "Main Title": "Send a formal notice",
                "Description": "Communicate concerns and request action through a formal letter",
                "Response Type": "Direct communication",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "IP Australia",
                "Main Title": "Contact for general guidance",
                "Description": "Reach out for general information about IP rights and processes",
                "Response Type": "Support service",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "IP professional",
                "Main Title": "Seek specialised advice",
                "Description": "Get personalised advice from a qualified professional",
                "Response Type": "Professional service",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Licence",
                "Main Title": "Allow others to use your IP",
                "Description": "Create a formal agreement to permit usage under specific terms",
                "Response Type": "Commercial arrangement",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Non-use removal",
                "Main Title": "Challenge an unused trade mark",
                "Description": "Apply to have a trade mark removed for lack of use",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Trade mark"
            },
            {
                "Overtitle": "Re-examination",
                "Main Title": "Request review of an existing patent",
                "Description": "Ask IP Australia to reconsider if a patent meets legal requirements",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Patent"
            },
            {
                "Overtitle": "Court - Trade mark",
                "Main Title": "Pursue legal action for trade mark matters",
                "Description": "Take issues to court for binding judgement on trade mark rights",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Trade mark"
            },
            {
                "Overtitle": "Trade mark cancellation",
                "Main Title": "Apply to cancel a registered trade mark",
                "Description": "Request removal of a trade mark from the register",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Trade mark"
            },
            {
                "Overtitle": "Australian Border Force",
                "Main Title": "Prevent importation of infringing goods",
                "Description": "Engage customs to stop counterfeit or infringing products at the border",
                "Response Type": "Government intervention",
                "Right it applies to": "Trade mark; Copyright"
            },
            {
                "Overtitle": "Take down notice",
                "Main Title": "Request removal of online content",
                "Description": "Ask platforms to remove material that infringes your IP rights",
                "Response Type": "Platform enforcement",
                "Right it applies to": "Copyright; Trade mark"
            },
            {
                "Overtitle": "Design opposition",
                "Main Title": "Challenge a design registration",
                "Description": "Object to a design application during the registration process",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Design"
            },
            {
                "Overtitle": "Alternative dispute resolution",
                "Main Title": "Resolve issues without court",
                "Description": "Use mediation or arbitration to find mutually acceptable solutions",
                "Response Type": "Negotiation process",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Digital content protection",
                "Main Title": "Prevent online distribution",
                "Description": "Implement technical measures to control how content is shared",
                "Response Type": "Technical solution",
                "Right it applies to": "Copyright"
            },
            {
                "Overtitle": "Plant breeder's right objection",
                "Main Title": "Challenge a PBR application",
                "Description": "Lodge a formal objection to a plant variety being registered",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Plant breeder"
            },
            {
                "Overtitle": "Revocation - PBR",
                "Main Title": "Challenge an existing plant variety",
                "Description": "Apply to have a registered plant variety removed from the register",
                "Response Type": "Administrative proceeding",
                "Right it applies to": "Plant breeder"
            },
            {
                "Overtitle": "Court - Design",
                "Main Title": "Litigate design infringement",
                "Description": "Take design rights disputes to court for resolution",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Design"
            },
            {
                "Overtitle": "Court - Copyright",
                "Main Title": "Pursue copyright infringement",
                "Description": "Seek legal remedies for unauthorized use of your work",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Copyright"
            },
            {
                "Overtitle": "Settlement agreement",
                "Main Title": "Negotiate a resolution",
                "Description": "Create a formal agreement to resolve an IP dispute",
                "Response Type": "Negotiation outcome",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Regulation enforcement",
                "Main Title": "Report to regulatory bodies",
                "Description": "Engage government agencies that oversee specific industries",
                "Response Type": "Regulatory action",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Passing off action",
                "Main Title": "Protect unregistered rights",
                "Description": "Take legal action against misrepresentation of goods or services",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Unregistered trade mark"
            },
            {
                "Overtitle": "Australian Consumer Law",
                "Main Title": "Address misleading conduct",
                "Description": "Use consumer protection laws to stop deceptive practices",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Any"
            },
            {
                "Overtitle": "Court - PBR",
                "Main Title": "Litigate plant variety issues",
                "Description": "Pursue court action for plant breeder's rights matters",
                "Response Type": "Legal proceeding",
                "Right it applies to": "Plant breeder"
            }
        ];

        // Set up event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Edit description button
            editDescriptionBtn.addEventListener('click', function() {
                promptContainer.style.display = 'block';
                resultsContainer.style.display = 'none';
            });
            
            // Back button
            backButton.addEventListener('click', function() {
                promptContainer.style.display = 'block';
                resultsContainer.style.display = 'none';
            });
            
            // Filter change events
            situationFilter.addEventListener('change', updateResults);
            focusFilter.addEventListener('change', updateResults);
            ipTypeFilter.addEventListener('change', updateResults);
            
            // Handle input changes for guide text updates
            document.getElementById('situation').addEventListener('change', updateGuideText);
            document.getElementById('focus').addEventListener('change', updateGuideText);
            document.getElementById('ipType').addEventListener('change', updateGuideText);
            
            // Submit form event
            situationForm.addEventListener('submit', function(e) {
                e.preventDefault();
                showResults();
            });
            
            // Explore button click
            document.getElementById('exploreBtn').addEventListener('click', function() {
                if (situationForm.checkValidity()) {
                    showResults();
                } else {
                    situationForm.reportValidity();
                }
            });
        });

        // Update guide text based on selections
        function updateGuideText() {
            const focusSelect = document.getElementById('focus');
            const ipTypeSelect = document.getElementById('ipType');
            
            const focusValue = focusSelect.value;
            const ipTypeValue = ipTypeSelect.value;
            
            // Map focus dropdown values to User Goal values
            const focusToGoalMap = {
                'understand': 'Understand if there\'s an issue to deal with',
                'strengthen': 'Strengthen my position',
                'support': 'Get support from a professional',
                'agreement': 'Explore ways to reach agreement with someone',
                'prevent_harm': 'Prevent harm to the public',
                'prevent_infringement': 'Prevent a potential infringement',
                'recoup': 'Recoup financial losses from another party'
            };
            
            const userGoal = focusToGoalMap[focusValue];
            
            // Find matching guide text
            let matchingGuideText = null;
            
            if (userGoal && ip
